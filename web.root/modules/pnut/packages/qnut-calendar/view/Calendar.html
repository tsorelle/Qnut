<div id="calendar-load-message"><span class="fa fa-spinner fa-pulse fa-2x" style="color:lightgrey"></span></div>
<div id="calendar-view-container" class="row" style="display: none;margin-bottom: 10rem">
    <div class="col-md-12">
        <!--calendar panel -->
        <div class="row" data-bind="visible:tab() == 'calendar'">
            <div class="col-md-12"  id="calendar-section">
                <nav class="navbar navbar-default" data-bind="visible:menuVisible">
                    <div class="container-fluid">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="#"><translate params="code:'label-filter',translator:self"></translate> <i class="fa fa-filter"></i></a>
                        </div>
                        <ul class="nav navbar-nav">
                            <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><translate params="code:'calendar-label-event-type',translator:self"></translate><span class="caret"></span></a>
                                <ul class="dropdown-menu" data-bind="foreach:eventTypes">
                                    <li>
                                        <a href="#" data-bind="click:$parent.filterEventType">
                                            <span class="fa fa-calendar" data-bind='style:{"background-color": color}'></span>
                                            <span data-bind='text:name,style:{"background-color": color}'></span></a>
                                    </li>
                                </ul>
                            </li>
                            <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><translate params="code:'committee-entity-plural',case:'ucfirst',translator:self"></translate><span class="caret"></span></a>
                                <ul class="dropdown-menu" data-bind="foreach:committees">
                                    <li><a href="#" data-bind="click:$parent.filterCommittee"><span data-bind="text:name"></span></a></li>
                                </ul>
                            </li>
                            <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><translate params="code:'resource-entity-plural',case:'ucfirst',translator:self"></translate><span class="caret"></span></a>
                                <ul class="dropdown-menu" data-bind="foreach:resources">
                                    <li><a href="#" data-bind="click:$parent.filterResource"><span data-bind="text:name"></span></a></li>
                                </ul>
                            </li>
                            <li data-bind="visible:filtered()!=='all'"><a href="#" data-bind="click:clearFilter"><translate params="code:'label-show-all',translator:self"></translate></a> </li>
                        </ul>
                        <ul class="nav navbar-nav navbar-right">
                            <li data-bind="visible:filtered()!=='all'"><a href="#"><strong><span data-bind="text:filterMessage"></span></strong></a></li>
                            <li data-bind="visible:userPermission() == 'edit'">
                                <a href="#" data-bind="click:onNewEvent"><span class="fa fa-calendar"></span> <translate params="code:'calendar-label-new-event',translator:self"></translate></a> </li>
                        </ul>
                    </div>
                </nav>

                 <div style="clear: both;" data-bind="style: {'padding-right': deviceSize() > 3 ? '5rem' : 0, 'padding-left': deviceSize() > 3 ? '5rem' : 0}" id="calendar"></div>
                <p data-bind="text:deviceSize"></p>
            </div>
        </div>
        <div class="row" data-bind="visible:tab() == 'edit'">
            <div class="col-md-12">
                <form>
                    <fieldset>

                        <legend data-bind="visible:eventForm.id() === 0">
                            <translate params="code:'label-new',translator:self"></translate> <translate params="code:'calendar-event-entity',translator:self"></translate>
                        </legend>
                        <legend data-bind="visible:eventForm.id() > 0"><translate params="code:'calendar-event-entity',case:'ucfirst',translator:self"></translate></legend>

                        <!-- title / location -->
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group" data-bind="css: {'has-error': eventForm.titleError}">
                                    <label class="control-label" for="title"><translate params="code:'label-title',translator:self"></translate></label>
                                    <span class="error" data-bind="visible: eventForm.titleError, text: eventForm.titleError"></span>
                                    <input type="text" class="form-control" id="title" data-bind="value: eventForm.title" />
                                </div>
                                <div class="form-group">
                                    <label class="control-label" for="location"><translate params="code:'label-location',translator:self"></translate></label>
                                    <input type="text" class="form-control" id="location" data-bind="value: eventForm.location" />
                                </div>
                            </div>
                        </div>

                        <!--  Error display for time settings -->
                        <div class="row" class="" data-bind="visible:eventForm.times.timeError">
                            <div class="col-md-12 alert alert-danger" role="alert">
                                <span class="fa fa-exclamation-circle" aria-hidden="true"></span>
                                <translate params="code:'calendar-time-error',translator:self"></translate>
                            </div>
                        </div>

                        <!-- time settings first row -->
                        <div class="row">
                            <div class="col-md-1 checkbox">
                                <label><input type="checkbox" data-bind="checked:eventForm.times.allDay"> <translate params="code:'calendar-label-allday',translator:self"></translate> </label>
                            </div>
                            <div  class="col-md-2">
                                <div class="form-group">
                                    <div class="input-group" style="">
                                        <input class="form-control datepicker" type="text" id="start-input"
                                               data-bind="value:eventForm.times.startDateText"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div id="starttime"  data-bind="visible:!eventForm.times.allDay()">
                                    <div class = "input-group"  data-bind="css:{'has-error': eventForm.times.timeErrorField() == 'starttime'}">
                                        <input type = "text" class = "form-control" data-bind="value:eventForm.times.startTimeText">
                                        <div class = "input-group-btn">
                                            <button type = "button" class = "btn btn-default dropdown-toggle"
                                                    data-toggle = "dropdown"><span class = "fa fa-sort-desc"></span>
                                            </button>
                                            <ul class = "dropdown-menu pull-right" style="height:200px;overflow-y:auto" data-bind="foreach:eventForm.times.startTimeList">
                                                <li><a href = "#" data-bind="click:$parent.eventForm.times.onStartTimeSelected"><span data-bind="text:Name"></span></a></li>
                                            </ul>
                                        </div><!-- btn-group -->
                                    </div><!-input-group -->
                                </div>
                                <div id="days-list" data-bind="visible:eventForm.times.endTimeMode() == 2">
                                    <div class="form-group">
                                        <select class="form-control" id="days-select"
                                                data-bind="options: eventForm.times.daylist, optionsText:'Name', value: eventForm.times.selectedDays">
                                        </select>
                                    </div>

                                </div>
                            </div>
                            <div class="col-md-1" data-bind="visible:eventForm.times.firstRowColumns() == 3" align="center">
                                <strong><translate params="code:'conjunction-until',translator:self"></translate></strong>
                            </div>
                            <div class="col-md-3" data-bind="visible:eventForm.times.firstRowColumns() == 3">
                                <div id="end-time" >
                                    <div class = "input-group" data-bind="css:{'has-error': eventForm.times.timeErrorField() == 'endtime'}" >
                                        <input type = "text" class = "form-control" data-bind="value:eventForm.times.endTimeText" style="width:100%" >
                                        <div class = "input-group-btn">
                                            <button type = "button" class = "btn btn-default dropdown-toggle"
                                                   data-toggle = "dropdown"><span class = "fa fa-sort-desc"></span>
                                            </button>
                                            <ul class = "dropdown-menu pull-right" style="height:200px;overflow-y:auto" data-bind="foreach:eventForm.times.endTimeList">
                                                <li><a href = "#" data-bind="click:$parent.eventForm.times.onEndTimeSelected"><span data-bind="text:Name"></span></a></li>
                                            </ul>
                                        </div><!-- btn-group -->
                                    </div><!-input-group -->
                                </div>
                            </div>
                            <div class="col-md-3" data-bind="visible:eventForm.times.firstRowColumns() == 3">
                                <a href="#" data-bind="click:eventForm.times.onSetCustomClick,visible:!eventForm.times.isCustom()">
                                    <translate params="code:'calendar-set-custorm',case:'ucfirst',translator:self"></translate>
                                </a>
                            </div>
                        </div>

                        <!-- time settings second row -->
                        <div class="row" data-bind="visible:eventForm.times.showSecondRow">
                            <div class="col-md-1">
                                <strong>
                                    <span data-bind="text:eventForm.times.conjunction"></span>
                                </strong>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <div class="input-group" style="">
                                        <!-- span class="fa fa-calendar" aria-hidden="true"></span -->
                                        <input class="form-control datepicker" type="text" id="enddate"
                                               data-bind="value:eventForm.times.endDateText"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div id="end-lookup" data-bind="visible:!eventForm.times.allDay()" class="input-group">
                                    <input type = "text" class = "form-control" data-bind="value:eventForm.times.endTimeText" style="width:20rem" >
                                    <div class = "input-group-btn">
                                        <button type = "button" class = "btn btn-default dropdown-toggle"
                                                data-toggle = "dropdown"><span class = "fa fa-sort-desc"></span>
                                        </button>
                                        <ul class = "dropdown-menu pull-right" style="height:200px;overflow-y:auto" data-bind="foreach:eventForm.times.endTimeList">
                                            <li><a href = "#" data-bind="click:$parent.eventForm.times.onEndTimeSelected"><span data-bind="text:Name"></span></a></li>
                                        </ul>
                                    </div><!-- btn-group -->
                                </div><!-input-group -->
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12" style="padding-bottom: 1rem">
                                <span class="fa fa-repeat">&nbsp;</span>
                                <span data-bind="text:eventForm.repeatText()"></span>
                                <a href="#" data-bind="click:eventForm.times.onShowRepeatInfo">
                                    <span data-bind="visible:eventForm.repeatText() == ''"><translate params="code:'calendar-word-repeat',case:'ucfirst',translator:self"></translate>. . .</span>
                                    <span data-bind="visible:eventForm.repeatText">[<translate params="code:'label-update',case:'ucfirst',translator:self"></translate>]</span>
                                </a>
                            </div>
                        </div>

                        <!-- filter types -->
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="event-type-select" class="control-label"><translate params="code:'calendar-label-event-type',case:'ucfirst',translator:self"></translate>:</label>
                                    <select class="form-control" id="event-type-select"
                                            data-bind="options: eventTypes, optionsText:'name', value: eventForm.selectedEventType">
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="resource-select" class="control-label"><translate params="code:'resource-entity-plural',case:'ucfirst',translator:self"></translate>:</label>
                                    <select class="form-control" id="resource-select"
                                            data-bind="visible:eventForm.availableResources().length,options: eventForm.availableResources, optionsText:'name', value: eventForm.selectedResource,optionsCaption:eventForm.addCaption">
                                    </select>
                                    <ul style="clear: both" data-bind="foreach:eventForm.selectedResources">
                                        <li><span data-bind="text:name"></span> [<a href="#" data-bind="click:$parent.eventForm.removeResource">Remove</a>] </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="committee-select" class="control-label"><translate params="code:'committee-entity-plural',case:'ucfirst',translator:self"></translate>:</label>
                                    <select class="form-control" id="committee-select"
                                            data-bind="visible:eventForm.availableCommittees().length, options: eventForm.availableCommittees, optionsText:'name', value: eventForm.selectedCommittee,optionsCaption:eventForm.addCaption">
                                    </select>
                                    <ul style="clear: both" data-bind="foreach:eventForm.selectedCommittees">
                                        <li><span data-bind="text:name"></span>  [<a href="#" data-bind="click:$parent.eventForm.removeCommittee">Remove</a>] </li>
                                    </ul>
                                </div>
                            </div>

                        </div>

                        <!-- notes -->
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label" for="event-description"><translate params="code:'label-description',translator:self"></translate></label>
                                    <textarea id="event-description" rows="30" class="form-control"></textarea>
                                </div>

                                <div class="form-group">
                                    <label class="control-label" for="event-notes"><translate params="code:'label-notes',translator:self"></translate></label>
                                    <textarea id="event-notes" style="min-height: 20ex" class="form-control" data-bind="value:eventForm.notes"></textarea>
                                </div>

                                <div>
                                    <button class="btn btn-primary" data-bind="click:onUpdateEvent"><translate params="code:'label-save',translator:self"></translate></button>
                                    <button class="btn btn-default btn-secondary" data-bind="click:onCancelEdit"><translate params="code:'label-cancel',translator:self"></translate></button>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>

        <!-- view panel -->
        <div class="row" data-bind="visible:tab() == 'view'">
            <div class="col-md-12">
                <form>
                    <fieldset>
                        <legend data-bind="text:eventForm.title">
                            <translate params="code:'label-new',translator:self"></translate> <translate params="code:'calendar-event-entity',translator:self"></translate>
                        </legend>
                        <div>
                            <span style="font-weight: bold" data-bind="text:eventForm.eventTime"></span>
                        </div>
                        <div data-bind="visible:eventForm.repeating">
                            <translate params="code:'calendar-repeat-message',translator:self"></translate> <span class="fa fa-repeat"></span><br>
                            <span data-bind="text:eventForm.repeatText"></span>
                        </div>
                        <div data-bind="visible:eventForm.location">
                            <span style="font-weight: bold"><translate params="code:'label-location',case:'ucfirst',translator:self"></translate></span>: <span data-bind="text:eventForm.location"></span>
                        </div>
                        <div data-bind="visible:eventForm.committeesText">
                            <strong>Committees: </strong><span data-bind="text:eventForm.committeesText"></span>
                        </div>
                        <div data-bind="visible:eventForm.resourcesText">
                            <strong>Rooms and resources: </strong><span data-bind="text:eventForm.resourcesText"></span>
                        </div>
                        <div style="margin-top: 3ex" data-bind="visible:eventForm.description">
                            <div data-bind="html:eventForm.description"></div>
                        </div>
                        <div data-bind="visible:userPermission() == 'edit'">
                            <div style="margin-top: 3ex" data-bind="visible:eventForm.notes">
                                <strong>Notes: </strong>
                                <div data-bind="foreach:eventForm.notesLines">
                                    <p data-bind="text:$data"></p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <button class="btn btn-link" data-bind="click:onCancelEdit"><span class="fa fa-backward"></span> <translate params="code:'calendar-label-return',translator:self"></translate></button>
                            <button class="btn btn-link" data-bind="visible:userPermission() == 'edit', click:onEditEvent"><translate params="code:'label-edit',translator:self"></translate> <span class="fa fa-forward"></span></button>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>

    </div>

    <!-- modals -->
    <div class="modal" id="event-info-modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <form>
                    <div class="modal-header">
                        <button data-bind="visible:bootstrapVersion() !== 4" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title"  data-bind="text:eventForm.title"></h4>
                        <button data-bind="visible:bootstrapVersion() === 4" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <div>
                            <span style="font-weight: bold" data-bind="text:eventForm.eventTime"></span>
                        </div>
                        <div data-bind="visible:eventForm.repeating">
                            <translate params="code:'calendar-repeat-message',translator:self"></translate> <span class="fa fa-repeat"></span><br>
                            <span data-bind="text:eventForm.repeatText"></span>
                        </div>
                        <div data-bind="visible:eventForm.location">
                            <span style="font-weight: bold"><translate params="code:'label-location',case:'ucfirst',translator:self"></translate></span>: <span data-bind="text:eventForm.location"></span>
                        </div>
                        <p style="margin-top: 2ex">
                            <a href="#" data-bind="click:showEventDetails"><translate params="code:'calendar-get-details',translator:self"></translate> </a>
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bind="visible:userPermission() == 'edit', click: onEditEvent"><translate params="code:'label-edit',translator:self"></translate> </button>
                        <button type="button" class="btn btn-default btn-secondary"  data-dismiss="modal"><translate params="code:'label-close',translator:self"></translate></button>
                    </div>
                </form>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- event info modal -->

    <div class="modal" id="repeat-info-modal"> <!-- repeat modal -->
        <div class="modal-dialog">
            <div class="modal-content">
                <form>
                    <div class="modal-header">
                        <button data-bind="visible:bootstrapVersion() !== 4" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4>Repeat</h4>
                        <button data-bind="visible:bootstrapVersion() === 4" type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body" >
                        <div class="row"> <!-- recurance Pattern -->
                            <div class="col-md-12">
                                <fieldset class="calendar-repeat-section">
                                    <legend><translate params="code:'calendar-pattern-header',translator:self"></translate></legend>
                                    <div class="row">
                                        <div class="col-md-2" id="repeat-basis-panel"> <!-- basis -->
                                            <div class="radio">
                                                <label><input type="radio" name="basis" value="d" data-bind="checked:eventForm.times.repeat.basis"><translate params="code:'calendar-word-daily',case:'ucfirst',translator:self"></translate></label>
                                            </div>
                                            <div class="radio">
                                                <label><input type="radio" name="basis" value="w" data-bind="checked:eventForm.times.repeat.basis"><translate params="code:'calendar-word-weekly',case:'ucfirst',translator:self"></translate></label>
                                            </div>
                                            <div class="radio">
                                                <label><input type="radio" name="basis" value="m" data-bind="checked:eventForm.times.repeat.basis"><translate params="code:'calendar-word-monthly',case:'ucfirst',translator:self"></translate></label>
                                            </div>
                                            <div class="radio">
                                                <label><input type="radio" name="basis" value="y" data-bind="checked:eventForm.times.repeat.basis"><translate params="code:'calendar-word-yearly',case:'ucfirst',translator:self"></translate></label>
                                            </div>

                                        </div>
                                        <div class="col-md-10">
                                            <div class="repeat-detail-panel" data-bind="visible:eventForm.times.repeat.basis()==='d'">
                                                <!-- daily -->
                                                <div class="inline-formlet">
                                                    <div class="inline-formlet-block">
                                                        <input type="radio" name="patterntype" value="dd" data-bind="checked:eventForm.times.repeat.patternType">
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <translate params="code:'calendar-word-every',case:'ucfirst',translator:self"></translate>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <input class="inline-formlet-number-input" data-bind="value:eventForm.times.repeat.interval"/>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <span data-bind="visible:eventForm.times.repeat.interval()==1">
                                                            <translate params="code:'calendar-word-day',translator:self"></translate>
                                                        </span>
                                                        <span data-bind="visible:eventForm.times.repeat.interval()>1">
                                                            <translate params="code:'calendar-word-day-plural',translator:self"></translate>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="inline-formlet">
                                                    <div class="inline-formlet-block">
                                                    <input type="radio" name="patterntype" value="dw" data-bind="checked:eventForm.times.repeat.patternType">
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                    <translate params="code:'calendar-word-every',case:'ucfirst',translator:self"></translate>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                    <translate params="code:'calendar-word-weekday',case:'ucfirst',translator:self"></translate>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="repeat-detail-panel" data-bind="visible:eventForm.times.repeat.basis()==='w'">
                                                <!-- weekly -->
                                                <div style="margin-bottom: 1rem">
                                                    <translate params="code:'calendar-word-every',case:'ucfirst',translator:self"></translate>
                                                    <input class="inline-formlet-number-input" data-bind="value:eventForm.times.repeat.interval"/>
                                                    <span data-bind="visible:eventForm.times.repeat.interval()==1">
                                                    <translate params="code:'calendar-word-week',translator:self"></translate>
                                                    </span>
                                                    <span data-bind="visible:eventForm.times.repeat.interval()>1">
                                                    <translate params="code:'calendar-word-week-plural',translator:self"></translate>
                                                    </span>
                                                </div>
                                                <div class="flex-wrap-container" data-bind="foreach:eventForm.times.repeat.dowList">
                                                    <button class="dow-button" type='button'
                                                            data-bind="attr:{title:Description}, click:$parent.eventForm.times.repeat.onDowClick,
                                                                css:{'dow-button-selected': $parent.eventForm.times.repeat.selectedWeekdays().indexOf(Value) > -1 }">
                                                        <span data-bind="text:Name"></span></button>
                                                </div>
                                                <div data-bind="text:eventForm.times.repeat.weekdaysMessage"></div>

                                            </div>
                                            <div class="repeat-detail-panel" data-bind="visible:eventForm.times.repeat.basis()==='m'">
                                                <!-- monthly -->
                                                <div class="inline-formlet">
                                                    <div class="inline-formlet-block">
                                                        <input type="radio" name="patterntype" value="md" data-bind="checked:eventForm.times.repeat.patternType">
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <translate params="code:'calendar-word-day',case:'ucfirst',translator:self"></translate>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <input class="inline-formlet-number-input" data-bind="value:eventForm.times.repeat.monthDay"/>
                                                        <span style="padding-left: 1rem;padding-right: 1rem">
                                                            <translate params="code:'conjunction-of',translator:self"></translate>
                                                            <translate params="code:'calendar-word-every',translator:self"></translate>
                                                        </span>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <input class="inline-formlet-number-input" data-bind="value:eventForm.times.repeat.interval"/>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <span data-bind="visible:eventForm.times.repeat.interval()==1">
                                                            <translate params="code:'calendar-word-month',translator:self"></translate>
                                                        </span>
                                                        <span data-bind="visible:eventForm.times.repeat.interval()>1">
                                                            <translate params="code:'calendar-word-month-plural',translator:self"></translate>
                                                        </span>
                                                    </div>
                                                </div>

                                                <div class="inline-formlet">
                                                    <div class="inline-formlet-block">
                                                        <input type="radio" name="patterntype" value="mw"
                                                               data-bind="checked:eventForm.times.repeat.patternType">
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <translate params="code:'calendar-word-the',case:'ucfirst',translator:self"></translate>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <!-- [ordinal dropdown] -->
                                                        <select id="month-ordinal-select"
                                                                data-bind="options: eventForm.times.repeat.ordinals, optionsText:'Name', value: eventForm.times.selectedOrdinal">
                                                        </select>
                                                    </div>

                                                        <!-- [dow dropdown] -->
                                                    <div class="inline-formlet-block">
                                                        <select id="month-dow-select"
                                                                data-bind="options: eventForm.times.repeat.daysOfWeek, optionsText:'Name', value: eventForm.times.selectedDow">
                                                        </select>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <span style="padding-left: 1rem;padding-right: 1rem">
                                                            <translate params="code:'conjunction-of',translator:self"></translate>
                                                            <translate params="code:'calendar-word-every',translator:self"></translate>
                                                        </span>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <!-- [month interval] -->
                                                        <input class="inline-formlet-number-input" data-bind="value:eventForm.times.repeat.monthInterval"/>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <span data-bind="visible:eventForm.times.repeat.monthInterval()==1">
                                                            <translate params="code:'calendar-word-month',translator:self"></translate>
                                                        </span>
                                                        <span data-bind="visible:eventForm.times.repeat.monthInterval()>1">
                                                            <translate params="code:'calendar-word-month-plural',translator:self"></translate>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="repeat-detail-panel" data-bind="visible:eventForm.times.repeat.basis()==='y'">
                                                <!-- yearly -->

                                                <!-- Repeat every [interval] years-->
                                                <div style="margin-bottom: 1rem">
                                                    <translate params="code:'calendar-word-every',case:'ucfirst',translator:self"></translate>
                                                    <input class="inline-formlet-number-input" data-bind="value:eventForm.times.repeat.interval"/>
                                                    <span data-bind="visible:eventForm.times.repeat.interval()==1">
                                                    <translate params="code:'calendar-word-year',translator:self"></translate>
                                                    </span>
                                                    <span data-bind="visible:eventForm.times.repeat.interval()>1">
                                                    <translate params="code:'calendar-word-year-plural',translator:self"></translate>
                                                    </span>
                                                </div>

                                                <!-- () On: [month] [day of month] -->
                                                <div class="inline-formlet">
                                                    <div class="inline-formlet-block">
                                                        <input type="radio" name="patterntype" value="yd" data-bind="checked:eventForm.times.repeat.patternType">
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <translate params="code:'calendar-word-on',case:'ucfirst',translator:self"></translate>

                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <!-- month dropdown selectedMonth -->
                                                        <select id="year-monthe-select"
                                                                data-bind="options: eventForm.times.repeat.months,
                                                                    optionsText:'Name', value: eventForm.times.selectedMonth">
                                                        </select>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <input class="inline-formlet-number-input" data-bind="value:eventForm.times.repeat.monthDay"/>
                                                    </div>
                                                </div>

                                                <!-- () On the [ordinal] [day of week] of [month]-->
                                                <div class=inline-formlet>
                                                    <div class="inline-formlet-block">
                                                        <input type="radio" name="patterntype" value="yo"
                                                               data-bind="checked:eventForm.times.repeat.patternType">
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <translate params="code:'calendar-word-on',case:'ucfirst',translator:self"></translate>
                                                        <translate params="code:'conjunction-the',case:'ucfirst',translator:self"></translate>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <!-- [ordinal dropdown] -->
                                                            <select id="year-ordinal-select"
                                                                    data-bind="options: eventForm.times.repeat.ordinals, optionsText:'Name', value: eventForm.times.selectedOrdinal">
                                                            </select>
                                                    </div>
                                                        <!-- [dow dropdown] -->
                                                    <div class="inline-formlet-block">
                                                        <select id="year-dow-select"
                                                                data-bind="options: eventForm.times.repeat.daysOfWeek, optionsText:'Name', value: eventForm.times.selectedDow">
                                                        </select>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                        <translate params="code:'conjunction-of',translator:self"></translate>
                                                    </div>
                                                    <div class="inline-formlet-block">
                                                    <!-- [month selectedOrdinalMonth] -->
                                                            <select id="year-ordinal-month-select"
                                                                    data-bind="options: eventForm.times.repeat.months,
                                                                        optionsText:'Name', value: eventForm.times.selectedOrdinalMonth">
                                                            </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <fieldset class="calendar-repeat-section">
                                    <legend><translate params="code:'calendar-range-header',translator:self"></translate></legend>
                                    <!-- range -->
                                    <div class="row" style="padding-top: 1rem">
                                        <div class="col-md-4">
                                            <div class="inline-formlet">
                                                <div class="inline-formlet-block">
                                                     <translate params="code:'calendar-word-start',translator:self"></translate>:
                                                </div>
                                            </div>
                                            <div class="inline-formlet">
                                                <div class="inline-formlet-block">
                                                    <input class="datepicker" style="width:100%" type="text" id="repeat-start"
                                                           data-bind="value:eventForm.times.repeat.startOn"/>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-8">
                                            <div class="inline-formlet">
                                                <!-- () No end date -->
                                                <div class="inline-formlet-block">
                                                    <input type="radio" name="end-date-basis" value="none"
                                                           data-bind="checked:eventForm.times.repeat.endDateBasis">
                                                </div>
                                                <div class="inline-formlet-block">
                                                    <translate params="code:'calendar-phrase-no-end',translator:self"></translate>
                                                </div>
                                            </div>

                                            <div class="inline-formlet">
                                                <!-- () End after [occurances] occurances-->
                                                <div class="inline-formlet-block">
                                                    <input type="radio" name="end-date-basis" value="occurances"
                                                           data-bind="checked:eventForm.times.repeat.endDateBasis">
                                                </div>
                                                <div class="inline-formlet-block">
                                                    <translate params="code:'calendar-phrase-end-after',translator:self"></translate>
                                                </div>
                                                <div class="inline-formlet-block">
                                                    <input class="inline-formlet-number-input" data-bind="value:eventForm.times.repeat.endOccurances"/>
                                                </div>
                                                <div class="inline-formlet-block">
                                                    <translate params="code:'calendar-word-occurances',translator:self"></translate>
                                                </div>
                                            </div>

                                            <div class="inline-formlet">
                                                <!-- () End by  [end date] -->
                                                <div class="inline-formlet-block">
                                                    <input type="radio" name="end-date-basis" value="date"
                                                           data-bind="checked:eventForm.times.repeat.endDateBasis">
                                                </div>
                                                <div class="inline-formlet-block">
                                                    <translate params="code:'calendar-phrase-end-by',translator:self"></translate>
                                                </div>
                                                <div class="inline-formlet-block">
                                                    <input class="datepicker" type="text" id="repeat-end" style="width:100%"
                                                           data-bind="value:eventForm.times.repeat.endBy"/>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bind="click: eventForm.times.onSaveRepeatInfo"><translate params="code:'label-save',translator:self"></translate> </button>
                        <button type="button" class="btn btn-default btn-secondary"  data-dismiss="modal"><translate params="code:'label-cancel',translator:self"></translate></button>
                    </div>
                </form>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- end repeat modal -->


</div>
